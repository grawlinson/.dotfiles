# global config - applied to all channels
Create Both
Expunge Both
SyncState *

# rawlinson
IMAPAccount rawlinson
    Host imap.little.kiwi
    User george@rawlinson.net.nz
    PassCmd "pass mail/george@rawlinson.net.nz" # get password from pass
    AuthMechs LOGIN
    SSLType IMAPS

# remote storage
IMAPStore rawlinson-remote
    Account rawlinson

# local storage
MaildirStore rawlinson-local
    Path ~/.mail/rawlinson/ # must append slash to specify directory
    Inbox ~/.mail/rawlinson/INBOX # place inbox inside mail dir

# folders
Channel rawlinson-inbox
    Far :rawlinson-remote:INBOX
    Near :rawlinson-local:INBOX

Channel rawlinson-archive
    Far :rawlinson-remote:Archive
    Near :rawlinson-local:Archive

Channel rawlinson-drafts
    Far :rawlinson-remote:Drafts
    Near :rawlinson-local:Drafts

Channel rawlinson-junk
    Far :rawlinson-remote:Junk
    Near :rawlinson-local:Junk

Channel rawlinson-sent
    Far :rawlinson-remote:Sent
    Near :rawlinson-local:Sent

Channel rawlinson-trash
    Far :rawlinson-remote:Trash
    Near :rawlinson-local:Trash

# all folders except above
Channel rawlinson-folders
    Far :rawlinson-remote:
    Near :rawlinson-local:
    Patterns * !INBOX !Archive !Drafts !Junk !Sent !Trash

# group all channels, so they can be sync'd with one command `mbsync rawlinson`
Group rawlinson
    Channel rawlinson-trash
    Channel rawlinson-inbox
    Channel rawlinson-archive
    Channel rawlinson-drafts
    Channel rawlinson-junk
    Channel rawlinson-sent
    Channel rawlinson-folders
